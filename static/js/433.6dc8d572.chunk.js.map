{"version":3,"file":"static/js/433.6dc8d572.chunk.js","mappings":"mJAKMA,EAAU,CACdC,cAAc,UAAD,OAHb,wNA+CIC,EAAU,CACdC,YA1CkB,WAAe,IAAdC,EAAa,uDAAN,EAC1B,OAAOC,EAAAA,EAAAA,IAAA,8DACkDD,EADlD,oBAEL,CACEJ,QAAAA,GAGL,EAoCCM,gBAlCsB,SAAAC,GACtB,OAAOF,EAAAA,EAAAA,IAAA,0EAC8DE,EAD9D,WAEL,CACEP,QAAAA,GAGL,EA4BCQ,kBA1BwB,SAAAC,GACxB,OAAOJ,EAAAA,EAAAA,IAAA,6CACiCI,EADjC,oBAEL,CACET,QAAAA,GAGL,EAoBCU,eAlBqB,SAAAC,GACrB,OAAON,EAAAA,EAAAA,IAAA,6CACiCM,EADjC,4BAEL,CACEX,QAAAA,GAEL,EAaCY,YAXkB,SAACD,GACnB,OAAON,EAAAA,EAAAA,IAAA,6CAAgDM,EAAhD,oBAA0E,CAC/EX,QAAAA,GAEH,GASD,K,yKCxDA,EAA4B,wBAA5B,EAA2D,mBAA3D,EAA4F,0B,SCItFa,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAmDH,OAnDGA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACJC,MAAQ,CACNC,OAAQ,GACRX,KAAM,GAFA,EAmBRD,aAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAc,sGACWa,EAAAA,EAAAA,YAAgB,EAAKF,MAAMV,MADtC,OACNa,EADM,OAENC,EAAUD,EAASE,KAAKD,QAC9B,EAAKE,UAAS,SAACC,GACb,MAAO,CAACN,OAAO,GAAD,eAAMM,EAAUN,SAAhB,OAA0BG,IACxCd,KAAMiB,EAAUjB,KAAK,EACtB,IANW,6CASdkB,QAAU,SAAAC,GACR,MAAyB,UAArBA,EAAMC,YAEN,SAAC,KAAD,CAAMC,GAAE,0CAAqCF,EAAMG,IAAnD,UACA,gBACEC,IAAG,0CAAqCJ,EAAMK,aAC9CC,IAAKN,EAAMO,OAASP,EAAMQ,UAM9B,gBACEJ,IAAG,0CAAqCJ,EAAMK,aAC9CC,IAAKN,EAAMO,OAASP,EAAMQ,KAC1BC,QAAS,WACPC,MACE,kWAEH,GAGN,IAoBA,OApBA,yCA7CD,WACE,GAAGC,aAAanB,OAAO,CACrB,IAAMoB,EAAcC,KAAKC,MAAMH,aAAaI,QAAQ,WAC9CC,EAAYH,KAAKC,MAAMH,aAAaI,QAAQ,SAClD,OAAOE,KAAKpB,SAAS,CAACL,OAAQoB,EAAa/B,KAAMmC,GAClD,CACD,OAAOC,KAAKrC,aACb,mCAED,WACE+B,aAAaO,QAAQ,SAASL,KAAKM,UAAUF,KAAK1B,MAAMC,SACxDmB,aAAaO,QAAQ,OAAOL,KAAKM,UAAUF,KAAK1B,MAAMV,MACvD,uBAmCD,WAAU,IAAD,OACCW,EAAWyB,KAAK1B,MAAhBC,OACR,OACE,iCACE,0FACA,mBACA,gBAAK4B,UAAWC,EAAhB,SACG7B,EAAO8B,KAAI,SAAAtB,GACV,OACE,eAAIoB,UAAWC,EAAf,SACG,EAAKtB,QAAQC,IADiBA,EAAMG,GAI1C,MAEFX,EAAO+B,OAAO,IAAK,mBAAQH,UAAWC,EAAoBG,KAAK,SAASf,QAASQ,KAAKrC,YAAnE,yFAGzB,OAvEGU,CAAamC,EAAAA,WA0EnB,G","sources":["api/api.js","webpack://goit-react-hw-05-movies/./src/components/Home/Home.module.css?58dd","components/Home/Home.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst apiKeyV4 =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMzViOWVlYjgzZmM3OGExYWQ3OTczOGE4MTBjNTZkZiIsInN1YiI6IjYzOTMxNjc3Y2VlMmY2MDA5MzExM2M3ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.wM3pFCsG_9GXnQWlWqat3GMYp-exwI3OqqHu5fQeliY';\n\nconst headers = {\n  Authorization: `Bearer ${apiKeyV4}`,\n};\n\nconst fetchMovies = (page = 1) => {\n  return axios.get(\n    `https://api.themoviedb.org/3/trending/all/week?page=${page}?&language=ru-RU`,\n    {\n      headers,\n    }\n  );\n};\n\nconst fetchSerchMovie = query => {\n  return axios.get(\n    `https://api.themoviedb.org/3/search/movie?&language=ru-RU&query=${query}&page=1`,\n    {\n      headers,\n    }\n  );\n};\n\nconst fetchMovieDetails = queryId => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${queryId}?&language=ru-RU`,\n    {\n      headers,\n    }\n  );\n};\n\nconst fetchMovieCast = filmID => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${filmID}/credits?&language=ru-RU`,\n    {\n      headers,\n    });\n};\n\nconst fetchReview = (filmID) => {\n  return axios.get(`https://api.themoviedb.org/3/movie/${filmID}/reviews?&page=1`, {\n    headers,\n  });\n};\n\nconst exports = {\n  fetchMovies,\n  fetchSerchMovie,\n  fetchMovieDetails,\n  fetchMovieCast,\n  fetchReview,\n}\nexport default exports\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Home_container__MGYYT\",\"item\":\"Home_item__KHBnP\",\"LoadModeBtn\":\"Home_LoadModeBtn__yRGIC\"};","import React from 'react';\nimport { Link} from 'react-router-dom';\nimport api from '../../api/api';\nimport styles from './Home.module.css';\n\nclass Home extends React.Component {\n  state = {\n    movies: [],\n    page: 1,\n  };\n\n  componentDidMount() {\n    if(localStorage.movies){\n      const SavedMovies = JSON.parse(localStorage.getItem('movies'))\n      const SavedPage = JSON.parse(localStorage.getItem('page'))\n      return this.setState({movies: SavedMovies, page: SavedPage})\n    }\n    return this.fetchMovies();\n  };\n\n  componentDidUpdate() {\n    localStorage.setItem('movies',JSON.stringify(this.state.movies))\n    localStorage.setItem('page',JSON.stringify(this.state.page))\n  }\n\n  fetchMovies = async () => {\n    const response = await api.fetchMovies(this.state.page);\n    const results = response.data.results;\n    this.setState((prevState) => {\n      return {movies: [...prevState.movies,...results],\n      page: prevState.page+1}\n    });\n  };\n\n  isMovie = movie => {\n    if (movie.media_type === 'movie') {\n      return (\n        <Link to={`/goit-react-hw-05-movies/movie/:${movie.id}`}>\n        <img\n          src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n          alt={movie.title || movie.name}\n        />\n      </Link>\n      );\n    }\n    return (\n      <img\n        src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n        alt={movie.title || movie.name}\n        onClick={() => {\n          alert(\n            'Бэкенд карявый подробаня информация доступна только для фильмов :с'\n          );\n        }}\n      />\n    );\n  };\n\n  render() {\n    const { movies } = this.state;\n    return (\n      <>\n        <h1>Популярное</h1>\n        <hr />\n        <div className={styles.container}>\n          {movies.map(movie => {\n            return (\n              <li className={styles.item} key={movie.id}>\n                {this.isMovie(movie)}\n              </li>\n            );\n          })}\n        </div>\n        {movies.length>0 && <button className={styles.LoadModeBtn} type='Button' onClick={this.fetchMovies}>Загрузить еще</button>}\n      </>\n    );\n  }\n}\n\nexport default Home;\n"],"names":["headers","Authorization","exports","fetchMovies","page","axios","fetchSerchMovie","query","fetchMovieDetails","queryId","fetchMovieCast","filmID","fetchReview","Home","state","movies","api","response","results","data","setState","prevState","isMovie","movie","media_type","to","id","src","poster_path","alt","title","name","onClick","alert","localStorage","SavedMovies","JSON","parse","getItem","SavedPage","this","setItem","stringify","className","styles","map","length","type","React"],"sourceRoot":""}