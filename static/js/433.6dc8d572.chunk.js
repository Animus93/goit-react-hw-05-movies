"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[433],{713:function(e,t,i){var a=i(388),n={Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMzViOWVlYjgzZmM3OGExYWQ3OTczOGE4MTBjNTZkZiIsInN1YiI6IjYzOTMxNjc3Y2VlMmY2MDA5MzExM2M3ZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.wM3pFCsG_9GXnQWlWqat3GMYp-exwI3OqqHu5fQeliY")},o={fetchMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("https://api.themoviedb.org/3/trending/all/week?page=".concat(e,"?&language=ru-RU"),{headers:n})},fetchSerchMovie:function(e){return a.Z.get("https://api.themoviedb.org/3/search/movie?&language=ru-RU&query=".concat(e,"&page=1"),{headers:n})},fetchMovieDetails:function(e){return a.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"?&language=ru-RU"),{headers:n})},fetchMovieCast:function(e){return a.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?&language=ru-RU"),{headers:n})},fetchReview:function(e){return a.Z.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?&page=1"),{headers:n})}};t.Z=o},433:function(e,t,i){i.r(t),i.d(t,{default:function(){return _}});var a=i(982),n=i(861),o=i(671),r=i(144),s=i(136),c=i(104),h=i(757),u=i.n(h),g=i(791),l=i(87),m=i(713),v="Home_container__MGYYT",p="Home_item__KHBnP",f="Home_LoadModeBtn__yRGIC",d=i(184),M=function(e){(0,s.Z)(i,e);var t=(0,c.Z)(i);function i(){var e;(0,o.Z)(this,i);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={movies:[],page:1},e.fetchMovies=(0,n.Z)(u().mark((function t(){var i,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.Z.fetchMovies(e.state.page);case 2:i=t.sent,n=i.data.results,e.setState((function(e){return{movies:[].concat((0,a.Z)(e.movies),(0,a.Z)(n)),page:e.page+1}}));case 5:case"end":return t.stop()}}),t)}))),e.isMovie=function(e){return"movie"===e.media_type?(0,d.jsx)(l.rU,{to:"/goit-react-hw-05-movies/movie/:".concat(e.id),children:(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.poster_path),alt:e.title||e.name})}):(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.poster_path),alt:e.title||e.name,onClick:function(){alert("\u0411\u044d\u043a\u0435\u043d\u0434 \u043a\u0430\u0440\u044f\u0432\u044b\u0439 \u043f\u043e\u0434\u0440\u043e\u0431\u0430\u043d\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u043c\u043e\u0432 :\u0441")}})},e}return(0,r.Z)(i,[{key:"componentDidMount",value:function(){if(localStorage.movies){var e=JSON.parse(localStorage.getItem("movies")),t=JSON.parse(localStorage.getItem("page"));return this.setState({movies:e,page:t})}return this.fetchMovies()}},{key:"componentDidUpdate",value:function(){localStorage.setItem("movies",JSON.stringify(this.state.movies)),localStorage.setItem("page",JSON.stringify(this.state.page))}},{key:"render",value:function(){var e=this,t=this.state.movies;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435"}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:v,children:t.map((function(t){return(0,d.jsx)("li",{className:p,children:e.isMovie(t)},t.id)}))}),t.length>0&&(0,d.jsx)("button",{className:f,type:"Button",onClick:this.fetchMovies,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"})]})}}]),i}(g.Component),_=M}}]);
//# sourceMappingURL=433.6dc8d572.chunk.js.map